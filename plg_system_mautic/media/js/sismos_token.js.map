{"version":3,"file":"sismos_token.js","sources":["../../resources/js/sismos_token.js"],"sourcesContent":["(function () {\n\t'use strict';\n\t/* Mautic - Martina Scholz */\n\t/* (C) 2023 Mautic, Martina Scholz, SimplySmart-IT <https://simplysmart-it.de> */\n\n\n\tfunction sismos_token() {\t\n\n\t\tconst btnGenToken = document.getElementById('genToken');\n\t\tconst btnClearToken = document.getElementById('clearToken');\n\t\tconst adminform = document.querySelector('form[name=\"adminForm\"]');\n\t\tconst task_id = document.querySelector('input[name=\"task\"]');\n\t\tconst genToken = document.querySelector('input[name=\"gentoken\"]');\n\t\t\n\n\t\tfunction generateToken() {\n\t\t\t// task is a hidden field in the foot of the form\t\t\t\n\t\t\ttask_id.value = 'plugin.apply';\n\t\t\tgenToken.value = '1';\n\t\t}\t\n\t\t\n\t\tfunction clearToken() {\n\t\t\tvar inputs = adminform.querySelectorAll('input[name^=\"jform[params][token]\"');\n\t\t\tinputs.forEach((input) => {\n\t\t\t\tinput.value = '';\n\t\t\t});\n\t\t\tvar textareas = adminform.querySelectorAll('textarea[name^=\"jform[params][token]\"');\n\t\t\ttextareas.forEach((textarea) => {\n\t\t\t\t// never clear the refresh token\n\t\t\t\tif (textarea.name !== 'jform[params][token][refresh_token]') {\n\t\t\t\t\ttextarea.value = '';\n\t\t\t\t\ttextarea.textContent = '';\n\t\t\t\t}\n\t\t\t});\n\t\t\ttask_id.value = 'plugin.apply';\n\t\t\tgenToken.value = '';\n\t\t}\n\n\t\tbtnGenToken.addEventListener('click', generateToken);\n\t\tif (btnClearToken) {\n\t\t\tbtnClearToken.addEventListener('click', clearToken);\n\t\t}\t\t\n\n\t\tdocument.removeEventListener(\"DOMContentLoaded\", sismos_token);\n\t}\n\n\tdocument.addEventListener(\"DOMContentLoaded\", sismos_token);\n\n})();\n\n"],"names":[],"mappings":";;;CAAA,CAAC,YAAY;CAEb;CACA;AACA;AACA;CACA,CAAC,SAAS,YAAY,GAAG;AACzB;CACA,EAAE,MAAM,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;CAC1D,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;CAC9D,EAAE,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;CACrE,EAAE,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;CAC/D,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;CACpE;AACA;CACA,EAAE,SAAS,aAAa,GAAG;CAC3B;CACA,GAAG,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC;CAClC,GAAG,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;CACxB,GAAG;CACH;CACA,EAAE,SAAS,UAAU,GAAG;CACxB,GAAG,IAAI,MAAM,GAAG,SAAS,CAAC,gBAAgB,CAAC,oCAAoC,CAAC,CAAC;CACjF,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;CAC7B,IAAI,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;CACrB,IAAI,CAAC,CAAC;CACN,GAAG,IAAI,SAAS,GAAG,SAAS,CAAC,gBAAgB,CAAC,uCAAuC,CAAC,CAAC;CACvF,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;CACnC;CACA,IAAI,IAAI,QAAQ,CAAC,IAAI,KAAK,qCAAqC,EAAE;CACjE,KAAK,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;CACzB,KAAK,QAAQ,CAAC,WAAW,GAAG,EAAE,CAAC;CAC/B,KAAK;CACL,IAAI,CAAC,CAAC;CACN,GAAG,OAAO,CAAC,KAAK,GAAG,cAAc,CAAC;CAClC,GAAG,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;CACvB,GAAG;AACH;CACA,EAAE,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;CACvD,EAAE,IAAI,aAAa,EAAE;CACrB,GAAG,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;CACvD,GAAG;AACH;CACA,EAAE,QAAQ,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;CACjE,EAAE;AACF;CACA,CAAC,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;AAC7D;CACA,CAAC,GAAG;;;;;;"}